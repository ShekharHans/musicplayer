<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/28157a8fdb.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">

    <link rel="stylesheet" href="test.css">
    <title>Document</title>
    <style>
        .menu_song1 {
            width: 300px;
            height: 300px;
            /* border: 1px solid #fff; */
            margin-top: 10px;
            margin-left: -100px;
        }

        .menu_song1 li {
            position: relative;
            list-style-type: none;
            padding: 5px 0px 5px 20px;
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            cursor: pointer;
            transition: .3s linear;
        }

        .menu_song1 li:hover {
            background: rgb(105, 105, 170, .1);
        }

        .menu_song1 li span {
            font-size: 12px;
            font-weight: 600;
            color: #0ff08793;
        }

        .menu_song1 li img {
            width: 32px;
            height: 32px;
            margin-left: 25px;
        }

        .menu_song1 li h5 {
            font-size: 11px;
            margin-left: 15px;
        }

        .menu_song1 li h5 .subtitle1 {
            font-size: 9px;
            color: #16f36086;
        }

        .menu_song1 li .bi {
            position: absolute;
            right: 15px;
            top: 6px;
            font-size: 16px;
        }
    </style>
</head>

<body>



    <button class="button"><img src="img/jubin Nautiyal.jpg" alt="Jubin Nautiyal" title="Jubin Nautiyal"></button>
    <button class="button">
        <img src="img/Diljit_Dosanjh.jpg" alt="Diljit Dosanjh" title="Diljit Dosanjh">

    </button>
    <button class="button">
        <img src="img/neha.jpg" alt="Neha Kakker" title="Neha Kakker">
    </button>
    <div class="popup" style="display: none;">
        <div class="popup-header">Toggle Popup 1</div>
        <div class="popup-content">
            <p>This is a centered popup that is initially hidden.</p>
        </div>
    </div>
    <div class="popup" style="display: none;">
        <div class="popup-header">Toggle Popup 2</div>
        <div class="popup-content">
            <div class="menu_song1">
                <li class="songItem1">
                    <span>01</span>
                    <img src="img/1.jpg" alt="Alan">
                    <h5>
                        On My Way
                        <div class="subtitle1">Alan Walker</div>
                    </h5>
                    <i class="bi playListPlay bi-play-circle-fill" id="1"></i>
                </li>
                <li class="songItem1">
                    <span>02</span>
                    <img src="img/1.jpg" alt="Alan">
                    <h5>
                        On My Way
                        <div class="subtitle1">Alan Walker</div>
                    </h5>
                    <i class="bi playListPlay bi-play-circle-fill" id="2"></i>
                </li>
                <li class="songItem1">
                    <span>03</span>
                    <img src="img/1.jpg" alt="Alan">
                    <h5>
                        On My Way
                        <div class="subtitle1">Alan Walker</div>
                    </h5>
                    <i class="bi playListPlay bi-play-circle-fill" id="3"></i>
                </li>
                <li class="songItem1">
                    <span>04</span>
                    <img src="img/1.jpg" alt="Alan">
                    <h5>
                        On My Way
                        <div class="subtitle1">Alan Walker</div>
                    </h5>
                    <i class="bi playListPlay bi-play-circle-fill" id="4"></i>
                </li>
                <li class="songItem1">
                    <span>05</span>
                    <img src="img/1.jpg" alt="Alan">
                    <h5>
                        On My Way
                        <div class="subtitle1">Alan Walker</div>
                    </h5>
                    <i class="bi playListPlay bi-play-circle-fill" id="5"></i>
                </li>
                <li class="songItem1">
                    <span>06</span>
                    <img src="img/1.jpg" alt="Alan">
                    <h5>
                        On My Way
                        <div class="subtitle1">Alan Walker</div>
                    </h5>
                    <i class="bi playListPlay bi-play-circle-fill" id="6"></i>
                </li>
            </div>
        </div>


    </div>
    </div>
    <div class="popup" style="display: none;">
        <div class="popup-header">Toggle Popup 3</div>
        <div class="popup-content">
            <p>This is a centered popup that is initially hidden.</p>
            <p>This is a centered popup that is initially hidden.</p>
            <p>This is a centered popup that is initially hidden.</p>
        </div>
    </div>
    <script>
        const buttons = document.querySelectorAll('.button');
        const popups = document.querySelectorAll('.popup');

        function togglePopup(button, popup) {
            button.addEventListener('click', function () {
                popups.forEach(p => p.style.display = 'none');
                if (popup.style.display === 'none') {
                    popup.style.display = 'flex';
                } else {
                    popup.style.display = 'none';
                }
            });
        }
        function hidePopupOnClickOutside(button, popup) {
            document.addEventListener('click', function (event) {
                if (!event.target.closest('.popup') && !event.target.closest('.button') && popup.style.display !== 'none') {
                    popup.style.display = 'none';
                }
            });
        }
        buttons.forEach((button, i) => {
            togglePopup(button, popups[i]);
            hidePopupOnClickOutside(button, popups[i]);
        });

    </script>
    <script>
        const music = new Audio('vande.mp3');

        // create Array 

        const songs = [
            {
                id: '1',
                songName: ` On My Way <br>
        <div class="subtitle1">Alan Walker</div>`,
                poster: "img/1.jpg"
            },
            {
                id: '2',
                songName: ` Alan Walker-Fade <br>
        <div class="subtitle1">Alan Walker</div>`,
                poster: "img/2.jpg"
            },
            // all object type 
            {
                id: "3",
                songName: `Cartoon - On & On <br><div class="subtitle1"> Daniel Levi</div>`,
                poster: "img/3.jpg",
            },
            {
                id: "4",
                songName: `Warriyo - Mortals <br><div class="subtitle1">Mortals</div>`,
                poster: "img/4.jpg",
            },
            {
                id: "5",
                songName: `Ertugrul Gazi <br><div class="subtitle1">Ertugrul</div>`,
                poster: "img/5.jpg",
            },
            {
                id: "6",
                songName: `Electronic Music <br><div class="subtitle1">Electro</div>`,
                poster: "img/6.jpg",
            },
            {
                id: "7",
                songName: `Agar Tum Sath Ho <br><div class="subtitle1">Tamashaa</div>`,
                poster: "img/7.jpg",
            },
            {
                id: "8",
                songName: `Suna Hai <br><div class="subtitle1">Neha Kakker</div>`,
                poster: "img/8.jpg",
            },
            {
                id: "9",
                songName: `Dilber <br><div class="subtitle1">Satyameva Jayate</div>`,
                poster: "img/9.jpg",
            },
            {
                id: "10",
                songName: `Duniya <br><div class="subtitle1">Luka Chuppi</div>`,
                poster: "img/10.jpg",
            },
            {
                id: "11",
                songName: `Lagdi Lahore Di <br><div class="subtitle1">Street Dancer 3D</div>`,
                poster: "img/11.jpg",
            },
            {
                id: "12",
                songName: `Putt Jatt Da <br><div class="subtitle1">Putt Jatt Da</div>`,
                poster: "img/12.jpg",
            },
            {
                id: "13",
                songName: `Baarishein <br><div class="subtitle1">Atif Aslam</div>`,
                poster: "img/13.jpg",
            },
            {
                id: "14",
                songName: `Vaaste <br><div class="subtitle1">Dhvani Bhanushali</div>`,
                poster: "img/14.jpg",
            },
            {
                id: "15",
                songName: `Lut Gaye <br><div class="subtitle1">Jubin Nautiyal</div>`,
                poster: "img/15.jpg",
            },
        ]

        Array.from(document.getElementsByClassName('songItem1')).forEach((element, i) => {
            element.getElementsByTagName('img')[0].src = songs[i].poster;
            element.getElementsByTagName('h5')[0].innerHTML = songs[i].songName;
        })


        let masterPlay = document.getElementById('masterPlay');
        let wave = document.getElementsByClassName('wave')[0];

        masterPlay.addEventListener('click', () => {
            if (music.paused || music.currentTime <= 0) {
                music.play();
                masterPlay.classList.remove('bi-play-fill');
                masterPlay.classList.add('bi-pause-fill');
                wave.classList.add('active2');
            } else {
                music.pause();
                masterPlay.classList.add('bi-play-fill');
                masterPlay.classList.remove('bi-pause-fill');
                wave.classList.remove('active2');
            }
        })


        const makeAllPlays = () => {
            Array.from(document.getElementsByClassName('playListPlay')).forEach((element) => {
                element.classList.add('bi-play-circle-fill');
                element.classList.remove('bi-pause-circle-fill');
            })
        }
        const makeAllBackgrounds = () => {
            Array.from(document.getElementsByClassName('songItem1')).forEach((element) => {
                element.style.background = "rgb(105, 105, 170, 0)";
            })
        }

        let index = 0;
        let poster_master_play = document.getElementById('poster_master_play');
        let title = document.getElementById('title');
        Array.from(document.getElementsByClassName('playListPlay')).forEach((element) => {
            element.addEventListener('click', (e) => {
                index = e.target.id;
                makeAllPlays();
                e.target.classList.remove('bi-play-circle-fill');
                e.target.classList.add('bi-pause-circle-fill');
                music.src = `audio/${index}.mp3`;
                poster_master_play.src = `img/${index}.jpg`;
                music.play();
                let song_title = songs.filter((ele) => {
                    return ele.id == index;
                })

                song_title.forEach(ele => {
                    let { songName } = ele;
                    title.innerHTML = songName;
                })
                masterPlay.classList.remove('bi-play-fill');
                masterPlay.classList.add('bi-pause-fill');
                wave.classList.add('active2');
                music.addEventListener('ended', () => {
                    masterPlay.classList.add('bi-play-fill');
                    masterPlay.classList.remove('bi-pause-fill');
                    wave.classList.remove('active2');
                })
                makeAllBackgrounds();
                Array.from(document.getElementsByClassName('songItem1'))[`${index - 1}`].style.background = "rgb(105, 105, 170, .1)";
            })
        })


        let currentStart = document.getElementById('currentStart');
        let currentEnd = document.getElementById('currentEnd');
        let seek = document.getElementById('seek');
        let bar2 = document.getElementById('bar2');
        let dot = document.getElementsByClassName('dot')[0];

        music.addEventListener('timeupdate', () => {
            let music_curr = music.currentTime;
            let music_dur = music.duration;

            let min = Math.floor(music_dur / 60);
            let sec = Math.floor(music_dur % 60);
            if (sec < 10) {
                sec = `0${sec}`
            }
            currentEnd.innerText = `${min}:${sec}`;

            let min1 = Math.floor(music_curr / 60);
            let sec1 = Math.floor(music_curr % 60);
            if (sec1 < 10) {
                sec1 = `0${sec1}`
            }
            currentStart.innerText = `${min1}:${sec1}`;

            let progressbar = parseInt((music.currentTime / music.duration) * 100);
            seek.value = progressbar;
            let seekbar = seek.value;
            bar2.style.width = `${seekbar}%`;
            dot.style.left = `${seekbar}%`;
        })

        seek.addEventListener('change', () => {
            music.currentTime = seek.value * music.duration / 100;
        })

        music.addEventListener('ended', () => {
            masterPlay.classList.add('bi-play-fill');
            masterPlay.classList.remove('bi-pause-fill');
            wave.classList.remove('active2');
        })


        let vol_icon = document.getElementById('vol_icon');
        let vol = document.getElementById('vol');
        let vol_dot = document.getElementById('vol_dot');
        let vol_bar = document.getElementsByClassName('vol_bar')[0];

        vol.addEventListener('change', () => {
            if (vol.value == 0) {
                vol_icon.classList.remove('bi-volume-down-fill');
                vol_icon.classList.add('bi-volume-mute-fill');
                vol_icon.classList.remove('bi-volume-up-fill');
            }
            if (vol.value > 0) {
                vol_icon.classList.add('bi-volume-down-fill');
                vol_icon.classList.remove('bi-volume-mute-fill');
                vol_icon.classList.remove('bi-volume-up-fill');
            }
            if (vol.value > 50) {
                vol_icon.classList.remove('bi-volume-down-fill');
                vol_icon.classList.remove('bi-volume-mute-fill');
                vol_icon.classList.add('bi-volume-up-fill');
            }

            let vol_a = vol.value;
            vol_bar.style.width = `${vol_a}%`;
            vol_dot.style.left = `${vol_a}%`;
            music.volume = vol_a / 100;
        })



        let back = document.getElementById('back');
        let next = document.getElementById('next');

        back.addEventListener('click', () => {
            index -= 1;
            if (index < 1) {
                index = Array.from(document.getElementsByClassName('songItem1')).length;
            }
            music.src = `audio/${index}.mp3`;
            poster_master_play.src = `img/${index}.jpg`;
            music.play();
            let song_title = songs.filter((ele) => {
                return ele.id == index;
            })

            song_title.forEach(ele => {
                let { songName } = ele;
                title.innerHTML = songName;
            })
            makeAllPlays()

            document.getElementById(`${index}`).classList.remove('bi-play-fill');
            document.getElementById(`${index}`).classList.add('bi-pause-fill');
            makeAllBackgrounds();
            Array.from(document.getElementsByClassName('songItem1'))[`${index - 1}`].style.background = "rgb(105, 105, 170, .1)";

        })
        next.addEventListener('click', () => {
            index -= 0;
            index += 1;
            if (index > Array.from(document.getElementsByClassName('songItem1')).length) {
                index = 1;
            }
            music.src = `audio/${index}.mp3`;
            poster_master_play.src = `img/${index}.jpg`;
            music.play();
            let song_title = songs.filter((ele) => {
                return ele.id == index;
            })

            song_title.forEach(ele => {
                let { songName } = ele;
                title.innerHTML = songName;
            })
            makeAllPlays()

            document.getElementById(`${index}`).classList.remove('bi-play-fill');
            document.getElementById(`${index}`).classList.add('bi-pause-fill');
            makeAllBackgrounds();
            Array.from(document.getElementsByClassName('songItem1'))[`${index - 1}`].style.background = "rgb(105, 105, 170, .1)";

        })


        let left_scroll = document.getElementById('left_scroll');
        let right_scroll = document.getElementById('right_scroll');
        let pop_song = document.getElementsByClassName('pop_song')[0];

        left_scroll.addEventListener('click', () => {
            pop_song.scrollLeft -= 330;
        })
        right_scroll.addEventListener('click', () => {
            pop_song.scrollLeft += 330;
        })


        let left_scrolls = document.getElementById('left_scrolls');
        let right_scrolls = document.getElementById('right_scrolls');
        let item = document.getElementsByClassName('item')[0];

        left_scrolls.addEventListener('click', () => {
            item.scrollLeft -= 330;
        })
        right_scrolls.addEventListener('click', () => {
            item.scrollLeft += 330;
        })

    </script>
</body>

</html>